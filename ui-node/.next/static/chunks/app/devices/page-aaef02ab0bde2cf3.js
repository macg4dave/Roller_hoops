(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{4037:(e,r,t)=>{Promise.resolve().then(t.bind(t,2168)),Promise.resolve().then(t.bind(t,7700))},2168:(e,r,t)=>{"use strict";t.d(r,{CreateDeviceForm:()=>c});var s=t(5155),i=t(2115),n=t(7650),o=t(6046),d=t(5828);let a=(0,d.createServerReference)("601bce7f6e439cb0070cd19669ed0af715c7237bcb",d.callServer,void 0,d.findSourceMapURL,"createDevice");var l=t(522);function c(){let e=(0,o.useRouter)(),[r,t]=(0,n.useFormState)(a,(0,l.G)());return(0,i.useEffect)(()=>{"success"===r.status&&e.refresh()},[r.status,e]),(0,s.jsxs)("form",{action:t,style:{border:"1px solid #e0e0e0",borderRadius:8,padding:16,marginTop:16,maxWidth:480,display:"grid",gap:12},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",fontWeight:600},htmlFor:"display_name",children:"Display name"}),(0,s.jsx)("input",{id:"display_name",name:"display_name",placeholder:"e.g. core switch",style:{marginTop:6,padding:"10px 12px",width:"100%",borderRadius:6,border:"1px solid #ccc"}}),(0,s.jsx)("p",{style:{color:"#666",marginTop:6,fontSize:14},children:"Optional. You can leave it blank to create an unnamed device."})]}),(0,s.jsxs)("div",{style:{display:"grid",gap:10},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",fontWeight:600},htmlFor:"owner",children:"Owner"}),(0,s.jsx)("input",{id:"owner",name:"owner",placeholder:"e.g. network team",style:{marginTop:6,padding:"10px 12px",width:"100%",borderRadius:6,border:"1px solid #ccc"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",fontWeight:600},htmlFor:"location",children:"Location"}),(0,s.jsx)("input",{id:"location",name:"location",placeholder:"e.g. data hall A / rack 3",style:{marginTop:6,padding:"10px 12px",width:"100%",borderRadius:6,border:"1px solid #ccc"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",fontWeight:600},htmlFor:"notes",children:"Notes"}),(0,s.jsx)("textarea",{id:"notes",name:"notes",placeholder:"free-form notes",rows:3,style:{marginTop:6,padding:"10px 12px",width:"100%",borderRadius:6,border:"1px solid #ccc",resize:"vertical"}})]})]}),(0,s.jsx)("button",{type:"submit",style:{background:"#0f766e",color:"#fff",border:"none",borderRadius:6,padding:"10px 12px",fontWeight:600,cursor:"pointer",width:"fit-content"},children:"Create device"}),r.message?(0,s.jsx)("p",{style:{margin:0,color:"error"===r.status?"#b00020":"#0f5132",background:"error"===r.status?"#f9d7da":"#d1e7dd",borderRadius:6,padding:"8px 10px",fontWeight:600},children:r.message}):null]})}},7700:(e,r,t)=>{"use strict";t.d(r,{DiscoveryPanel:()=>u});var s=t(5155),i=t(2115),n=t(7650),o=t(6046),d=t(522),a=t(5828);let l=(0,a.createServerReference)("60c5a2a6a6dcc623163be5ad70a38f774491732501",a.callServer,void 0,a.findSourceMapURL,"triggerDiscovery");function c(e){if(!e)return"n/a";let r=new Date(e);return Number.isNaN(r.getTime())?e:r.toLocaleString()}function u(e){var r;let{status:t}=e,a=(0,o.useRouter)(),[u,p]=(0,n.useFormState)(l,(0,d.j)()),f=null!==(r=t.latest_run)&&void 0!==r?r:void 0;(0,i.useEffect)(()=>{"success"===u.status&&a.refresh()},[u.status,a]);let g=function(e){switch(e){case"running":return{bg:"#fef3c7",fg:"#92400e"};case"succeeded":return{bg:"#dcfce7",fg:"#166534"};case"failed":return{bg:"#fee2e2",fg:"#991b1b"};case"queued":return{bg:"#e0e7ff",fg:"#3730a3"};default:return{bg:"#e5e7eb",fg:"#374151"}}}(t.status);return(0,s.jsxs)("section",{style:{border:"1px solid #e0e0e0",borderRadius:10,padding:16,marginTop:16,display:"grid",gap:10},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[(0,s.jsxs)("div",{style:{display:"grid",gap:6},children:[(0,s.jsx)("div",{style:{fontSize:12,letterSpacing:"0.05em",textTransform:"uppercase",color:"#4b5563"},children:"Discovery"}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,s.jsx)("span",{style:{background:g.bg,color:g.fg,padding:"4px 10px",borderRadius:999,fontWeight:700,fontSize:13},children:t.status}),(null==f?void 0:f.scope)?(0,s.jsxs)("span",{style:{color:"#374151"},children:["Scope: ",f.scope]}):null]}),f?(0,s.jsxs)("div",{style:{color:"#374151",fontSize:14},children:["Last run: ",c(f.started_at),f.completed_at?" â†’ ".concat(c(f.completed_at)):null,f.stats&&"object"==typeof f.stats&&"stage"in f.stats?" (".concat(String(f.stats.stage),")"):null]}):(0,s.jsx)("div",{style:{color:"#6b7280",fontSize:14},children:"No discovery runs yet."}),(null==f?void 0:f.last_error)?(0,s.jsxs)("div",{style:{color:"#991b1b",fontWeight:600,fontSize:14},children:["Error: ",f.last_error]}):null]}),(0,s.jsxs)("form",{action:p,style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[(0,s.jsx)("input",{name:"scope",placeholder:"optional scope (e.g. 10.0.0.0/24)",style:{padding:"10px 12px",borderRadius:8,border:"1px solid #d1d5db",minWidth:220}}),(0,s.jsx)("button",{type:"submit",style:{background:"#111827",color:"#fff",border:"none",borderRadius:8,padding:"10px 14px",fontWeight:700,cursor:"pointer"},children:"Trigger discovery"})]})]}),u.message?(0,s.jsx)("p",{style:{margin:0,color:"error"===u.status?"#b00020":"#0f5132",background:"error"===u.status?"#f9d7da":"#d1e7dd",borderRadius:6,padding:"8px 10px",fontWeight:600},children:u.message}):null]})}},522:(e,r,t)=>{"use strict";t.d(r,{G:()=>i,j:()=>n});let s={status:"idle"};function i(){return{...s}}function n(){return{status:"idle"}}},6046:(e,r,t)=>{"use strict";var s=t(6658);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},5828:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{callServer:function(){return s.callServer},createServerReference:function(){return n},findSourceMapURL:function(){return i.findSourceMapURL}});let s=t(9603),i=t(3355),n=t(4979).createServerReference}},e=>{var r=r=>e(e.s=r);e.O(0,[441,517,358],()=>r(4037)),_N_E=e.O()}]);